<link rel="import" href="../../../bower_components/polymer/polymer.html">

<link rel="import" href="../../../bower_components/app-route/app-location.html">
<link rel="import" href="../../../bower_components/app-route/app-route.html">
<link rel="import" href="../../../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../model/location-control-behavior.html">

<link rel="import" href="../../../bower_components/app-layout/app-header-layout/app-header-layout.html">
<link rel="import" href="../../../bower_components/app-layout/app-header/app-header.html">
<link rel="import" href="../../../bower_components/app-layout/app-scroll-effects/app-scroll-effects.html">
<link rel="import" href="../../../bower_components/app-layout/app-toolbar/app-toolbar.html">

<link rel="import" href="./series-view.html">
<link rel="import" href="./issues-view.html">


<dom-module id="ui-main">
	<template>
		<style>
			app-header {
				background-color: var(--header-color);
				color: var(--primary-font-color);
				@apply(--header-font);
				overflow: visible;
			}
		</style>

		<app-location route="{{route}}"></app-location>
		<app-route route="{{route}}" pattern="/:type/:view" tail="{{_subRoute}}" data="{{_location}}"></app-route>

		<app-header-layout>
			<app-header reveals effects="waterfall">
				<app-toolbar>
					<div main-title>komix</div>
				</app-toolbar>
			</app-header>

			<iron-pages attr-for-selected="id" selected="[[_location.view]]" fallback-selection="series">
				<issues-view id="issues" route="{{_subRoute}}" location="{{_location}}"></issues-view>
				<series-view id="series" location="{{_location}}"></series-view>
			</iron-pages>
		</app-header-layout>
	</template>

	<script src="main.js"></script>
</dom-module>
